!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}function i(){var n=function(n,t){t||(t=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}(['\n  subscription PlaceVisitors($placeUUIDEquals: uuid! = "") {\n    place(where: { place_uuid: { _eq: $placeUUIDEquals } }) {\n      visits_aggregate {\n        aggregate {\n          count(columns: visitor_uuid)\n        }\n      }\n      visits(order_by: { checked_out_at: desc_nulls_first, checked_in_at: desc_nulls_first }, limit: 200) {\n        checked_in_at\n        checked_out_at\n        visitor {\n          visitor_uuid\n          visitor_first_name\n          visitor_last_name\n          visitor_phone\n          visitor_email\n        }\n      }\n    }\n  }\n']);return i=function(){return n},n}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{wFkS:function(t,o,r){"use strict";r.r(o),r.d(o,"VisitorsListPageModule",(function(){return I}));var s,a,c,u,l=r("SVse"),f=r("s7LF"),p=r("sZkV"),b=r("iInd"),v=r("LRne"),d=r("pLZG"),h=r("lJxs"),_=r("8Y7J"),m=r("ALmS"),w=r("nbgS"),y=m.gql(i()),U=((s=function(){function t(e){n(this,t),this.apollo=e}return e(t,[{key:"getVisitorsByPlaceUUID",value:function(n){return this.apollo.subscribe({query:y,variables:{placeUUIDEquals:n}})}}]),t}()).\u0275fac=function(n){return new(n||s)(_.Rb(w.b))},s.\u0275prov=_.Eb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),g=[{path:"",component:(a=function(){function t(e,i){n(this,t),this.activatedRoute=e,this.placeAdminService=i,this.visitors=Object(v.a)([]),this.placeUUID=e.snapshot.paramMap.get("placeUUID");var o=i.getVisitorsByPlaceUUID(this.placeUUID).pipe(Object(d.a)((function(n){var t,e;return void 0!==(null===(e=null===(t=n.data)||void 0===t?void 0:t.place)||void 0===e?void 0:e[0])})),Object(h.a)((function(n){return n.data.place})));this.visitors=o}return e(t,[{key:"ngOnInit",value:function(){}}]),t}(),a.\u0275fac=function(n){return new(n||a)(_.Ib(b.a),_.Ib(U))},a.\u0275cmp=_.Cb({type:a,selectors:[["app-visitors-list"]],decls:5,vars:0,template:function(n,t){1&n&&(_.Nb(0,"ion-header"),_.Nb(1,"ion-toolbar"),_.Nb(2,"ion-title"),_.lc(3,"visitors-list"),_.Mb(),_.Mb(),_.Mb(),_.Jb(4,"ion-content"))},directives:[p.l,p.w,p.v,p.k],styles:[""]}),a)}],k=((u=function t(){n(this,t)}).\u0275mod=_.Gb({type:u}),u.\u0275inj=_.Fb({factory:function(n){return new(n||u)},imports:[[b.i.forChild(g)],b.i]}),u),I=((c=function t(){n(this,t)}).\u0275mod=_.Gb({type:c}),c.\u0275inj=_.Fb({factory:function(n){return new(n||c)},imports:[[l.c,f.f,p.x,k]]}),c)}}])}();